<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajuda com assistente virtual</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <a href="index.html">voltar para pagina inicial</a>
    </header>
      <div class="login">
        <h2>Assistente bancário</h2>

        <label class="digito">Digite seu usuário:</label><br>
        <input type="text" id="usuario" class="usuario"><br><br>

        <label class="digito">Digite sua senha:</label><br>
        <input type="password" id="senha" class="usuario"><br><br>

        <button onclick="iniciarAtendimento()" class="enviar">Entrar</button>

        <div id="chat" style="margin-top:20px; display:none;">
            <p>...........................................................</p>
            <label>Como posso te ajudar?</label><br>
            <input type="text" id="ajuda" class="usuario"><br><br>
            <button onclick="responder()" class="enviar">Enviar</button>
            <p id="resposta"></p>
        </div>

    </div>


    <script>
        let contexto = "";

        function iniciarAtendimento() {
            const usuario = document.getElementById('usuario').value;
            const senha = document.getElementById('senha').value;

            if (usuario && senha) {
                document.getElementById('chat').style.display = 'block';
            } else {
                alert("Por favor, preencha todos os campos.");
            }
        }

        function responder() {
            const ajuda = document.getElementById('ajuda').value.toLowerCase();
            let resposta = "";

            if (ajuda.includes("saldo")) {
                resposta = "Seu saldo da conta é R$ 500,00. Deseja sacar?";
                contexto = "saldo";
            } else if (contexto === "saldo" && (ajuda.includes("sim") || ajuda.includes("quero sacar") || ajuda.includes("sacar"))) {
                resposta = "Quanto você deseja sacar?";
                contexto = "saque_pendente";
            } else if (contexto === "saque_pendente" && ajuda.match(/\d+/)) {
                const valor = ajuda.match(/\d+/)[0];
                resposta = `Saque de R$ ${valor},00 realizado com sucesso! ✅`;
                contexto = "";
            } else if (ajuda.includes("fatura")) {
                resposta = "Faturas em aberto: 12/02 AB, 08/03 AB, 24/05 AB";
            } else if (ajuda.includes("poupança") || ajuda.includes("poupanca")) {
                resposta = "Sua poupança atualmente é de R$ 2.000,00";
            } else {
                resposta = "Desculpe, não entendi sua pergunta.";
            }

            document.getElementById('resposta').innerText = resposta;

            document.getElementById('inputBox').style.display = "none";
        }
    </script>

</body>
</html>